(function(t){function e(e){for(var i,r,l=e[0],s=e[1],c=e[2],u=0,m=[];u<l.length;u++)r=l[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&m.push(n[r][0]),n[r]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,l=1;l<a.length;l++){var s=a[l];0!==n[s]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={index:0},o=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=s;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var i=a("d7ab"),n=a.n(i);n.a},"09d1":function(t,e,a){"use strict";var i=a("85eb"),n=a.n(i);n.a},"359c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFjElEQVR42uSbb2hVdRjHf7tszdXUWduqWW2u1da1hFrWerGihjkTsSEpYa5pMMFqCiX1IgwMIogIBKP5whLD8M+LXpkFqStQGegLuc2hMxbLojVz4uZWrq3vw32OnK7nnnOe3znn7nfogc+L3f3+PM/3nPOc37+TNzU1pSK2KvAkmA9qwX3gNlAMbuEyo2AEXARnmRT4AfRH6VxeBAIkwFPgRfAsqAzY3s/gW/Al6AKTpgpQDl4HbeCuiC7YL+BzsA38YYoAFOxm0A5mqNzYONgBPmRR9I0E0KQAbAajU9Nno+xDgW4cundAPdgNHlBm2BmwBpzUSViiRwZsBMcMCl6xL+RTB/sYSQ4oArvAC8ps2w9eBmNhCjAbfA2eUPGw42AJuByGABT8YfCIipdRPmjyEsErB9wMDsUweCtRH+IYtASgZPIFaFDxtQaOIU9HgDdAi4q/tXAsohxAye57kO/R+NP8jC0AzeD5HIwGaRT4Fd/epzlHHfGoM8ETsuN+RoKF4JyPUdgph7ol4G3wZwSjvkvcdolDv6d81D/Hsf2nrtMVfgvU+LgShx1+GwYfgE/BVvCq7TEbAj/y9PY3/vsa/68AlII7efo8n/9WPPvbDrZw+05Gd8DDHv7WcGxb3e6AajDu84q0+Rhr14OXQKXGOL2S69b7KNvm0+dxjvF63cyGOgW3ZHOAiVTYNAv87rTXtb8F7gFrBcmowKBMf5Og7FqO9YbX4CZhUGUGCVAqvHCbMgWgH1cLO33UIAGkvqy2LrYlwGJe0pLYYwYJIPWlnGO+LsAqYQP0+tpgkAAbbK9Uv7bKLsAiYeX3QLdBAnTf8H73tkXWUJhWU3oEFX8F9/KQ1CSjIXgfmCuok6Q7oFHY0XYDg7fmCJ8I6zQmNNb29ho889snXUskAWoFFWgN/rzBAtAjcEFQvjbhc+JjWW8M5v9nBGVrSIA5ggq/x0CAQUHZW0mAmYIKEzEQQDIeKCYBCgUVZsVAgNmCsoXSnaGZMRBA5CMJMCYoPy8GAlQJyo6RAFcEFeiwQ5HBwRcp2YGMKyTAgKBCvmHT4ExbqLxXsu02QAL0CztZarAAzwnL9yeEEyGylUq+rZ4LS7BvEutJaExr52l0lAtbqZGku2k6XK4xwvsJPASuGhI8bYCmNAS4PcFDR+nRkmqVPqllim3TCJ5iHrSe5YManb4C3jEg+C3si9TSMfMGQV2APbsdYMY0bIYUcd+6Vpe5M3QiQGNnwTKQl4PAqY8W0BfA3xNOW2OtWQp/BxrBclbcbe/wNNgIqiIIvAa8CXpC2GludTonmM/Z/W6HVaDFtvHC/Sq9P++1lEYDrC7OznT4+Rvwl2BC08yrVUmV3tufG1LOGOAkPmHPARbrXU5krrGVK/N5hsCyXcLHg8rujOh06Xq33eF8kHKpvM5WdiH4x0eHF8EsjVue6gyFHHyKY8wqANHksb+etJV910enHwd47j8KWYCmzD6ydex2TuBgxq36vkenSwMIsCTE4Dud+sjWcbHHa2ZBRvnHwW7OC8PgPDjA2bYwgADVIQXfxzH5FoB4EIxkaXBvjgY7JSEEP8KxOPbhNq2l11ercv5EhWZecThDOMkxpLKW8HEV2rMoexWsMPwOaPfqw68jHS6d7AcNEQ2DgwjQEfYXI/RFxk6XNbchvtUu8+oMrTPU8SrtsOYtXAIuCevQCG+dSn/R4mnST2boc7h9SnacZk4OBRjk/NQlWUeTGDVMR+ePGpjwjrJvXZJKOoubtP38DHhNpb/4nG4jHzrYpwvi2gGTVAVPWiZdktEdAdovc2mX+vyMfdCOIaxsneQZ398OjpYFaLfUob1r3FcyDN/Dfm1V8JH2XnZ2Twht7uG2erntijB9juLj6VhZQv3P7V8BBgAKqy0Tg0JzXwAAAABJRU5ErkJggg=="},"56d7":function(t,e,a){"use strict";a.r(e);a("d9a3"),a("c9db"),a("de3e"),a("618d");var i=a("0261"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t._m(0),a("el-main",[a("China",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)],1)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pageHead",staticStyle:{"text-align":"left",height:"160px",padding:"20px"}},[i("div",{staticStyle:{"text-align":"right"}},[i("span",[i("a",{staticStyle:{color:"#fff","text-decoration":"none"},attrs:{href:"https://github.com/simonblowsnow/2019-ncov-vis"}},[i("img",{staticStyle:{"margin-bottom":"-2px"},attrs:{src:a("359c"),width:"18"}}),i("label",{staticStyle:{"font-size":"16px"}},[t._v(" Github")])])])]),i("div",[i("div",{staticStyle:{"font-size":"26px"}},[t._v("新冠肺炎疫情"),i("label",{staticStyle:{"font-size":"24px"}},[t._v(" · 数据分析系统")])]),i("div",{staticStyle:{"font-size":"22px","margin-top":"5px",color:"#ddd","font-family":"'Times New Roman', Times, serif"}},[t._v(" WuHan 2019-nCoV Data Visualization Analysis System ")]),i("div",{staticStyle:{"font-size":"14px",color:"#ddd"}},[t._v("—— 开发中，敬请期待!")])])])}],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("Common",{attrs:{title:t.loader.title,updateTime:t.loader.updateTime,sums:t.loader.sums,tabs:t.tabs,activeName_:t.loader.activeName},on:{handleClickTab:function(e){return t.loader.handleClickTab(e)}}})],1)},l=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"hello"},[a("div",{staticStyle:{"text-align":"left"}},[a("div",{staticStyle:{height:"40px","line-height":"40px"}},[a("label",{staticStyle:{"font-weight":"800","font-size":"18px"}},[t._v(t._s(t.title))]),a("label",{staticStyle:{float:"right",color:"#4197FD"}},[t._v("数据更新时间： "+t._s(t.updateTime))])])]),a("el-card",{staticClass:"box-card",staticStyle:{background:"#f4f4f5"}},[a("el-row",{attrs:{gutter:20}},t._l(t.sums,(function(e){return a("el-col",{key:e.name,attrs:{span:6}},[a("div",{staticClass:"grid-content "},[a("div",{staticClass:"sum_numb",style:{color:e.color,fontSize:"20px",marginBottom:"8px"}},[t._v(t._s(e.sum))]),a("div",{staticClass:"sum_numb",staticStyle:{color:"#333333","font-size":"14px"}},[t._v(t._s(e.text)+"病例")]),a("div",{staticClass:"sum_numb",staticStyle:{"font-size":"13px",color:"#999999","margin-top":"8px"}},[a("label",{staticStyle:{"font-weight":"200"}},[t._v("昨日 ")]),a("label",{style:{color:e.color}},[t._v(t._s(e.add))])])])])})),1)],1)],1),a("div",{staticStyle:{"padding-top":"10px"}},[a("el-tabs",{on:{"tab-click":t.handleClickTab},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabs,(function(e,i){return a("el-tab-pane",{key:i,attrs:{label:e.label,name:e.name}},[i<4?a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.activeName==e.name,expression:"activeName==c.name"}],attrs:{gutter:5}},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("div",{staticClass:"chart",style:{height:t.mapHeight},attrs:{id:e.ids[0]}})]),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("div",{staticClass:"chart",staticStyle:{height:"500px"}},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("div",{staticStyle:{height:"900px"},attrs:{id:e.ids[1]}})])],1)])],1):a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.activeName==e.name,expression:"activeName==c.name"}]},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"chart",staticStyle:{height:"500px"},attrs:{id:e.ids[0]}})])],1)],1)})),1)],1),a("div",{staticStyle:{height:"20px"}})])},c=[],d=(a("1a8c"),a("9249"),a("c1f4"),a("c354"),a("3a20"),a("b128"),a("b3f9"),a("7267"),a("ec4a"),a("d780"),a("82ae")),u=a.n(d),m={Test:"test",Login:"webLogin",GetMap:"getMap",GetDataDetails:"getDataDetails",GetTimeData:"getTimeData",GetDataChina:"getDataChina",GetDataSummary:"getDataSummary"},p=a("5c3d"),f=a.n(p),h=a("bc01"),g={setCookie:function(t,e,a){a=a||200;var i=new Date;i.setTime(i.getTime()+3600*a*1e3),document.cookie=t+"="+escape(e)+";expires="+i.toUTCString()},getCookie:function(t){var e=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),a=document.cookie.match(e);return a?unescape(a[2]):null},postData:function(t,e,a,i,n){e["tk"]=g.getCookie("tk"),e["lc"]=g.getCookie("lc"),u.a.post("/api/"+t,e,n||{}).then((function(t){t.data.error?alert(t.data.message):a&&a(t.data)})).catch((function(t){i&&i(t)}))},ajaxData:function(t,e,a,i){e["tk"]=g.getCookie("tk"),e["lc"]=g.getCookie("lc"),u.a.get("/api/"+t,{params:e}).then((function(t){t.data.error?alert(t.data.message):a&&a(t.data)})).catch((function(t){i&&i(t)}))},login:function(t,e,a){g.postData(m.Login,{username:t||"david",password:e||"123456"},(function(t){t.error||(g.setCookie("tk",t.data.tk),g.setCookie("lc",t.data.lc),a&&a())}))},Names:{},formatRegion:function(t,e){var a=f.a.getMap(t);if(a){var i=g.Names[t];return e.map((function(t){return{name:i[t[0]],value:t[1],code:t[0],tags:t.slice(2)}}))}},replaceAll:function(t,e,a){return t.replace(new RegExp(e,"gm"),a)},registerMap:function(t,e){e=JSON.parse(e),f.a.registerMap(t,e),g.Names[t]=e.features.reduce((function(t,e){return t[e.id.toString()]=e.properties.name,t}),{})},drawGraph:function(t,e){var a=f.a.init(document.getElementById(e));return a.setOption(t),a},draw:function(t,e){return t.instance=g.drawGraph(t.option,e),t.instance},getDevice:function(){var t=document.documentElement.offsetWidth||document.body.offsetWidth;return t<768?"xs":t<1064?"sm":t<1200?"md":"lg"},last:function(t){return t[t.length-1]},interpolateColor:function(t,e,a){if(void 0==a){var i=[e,0];a=i[0],e=i[1]}for(var n=a-e,o=1/(t.length-1),r=[],l=0;l<t.length-1;l++)r.push(h["a"](t[l],t[l+1]));this.compute=function(t){if(t>=a)return r[r.length-1](1);var i=(t-e)/n,l=parseInt(i/o),s=(i-l*o)/o,c=r[l];return c(s)}},Colors:["#F55253","#FF961E","#66666c","#178B50"]},x={name:"Common",props:{title:String,updateTime:String,sums:Array,tabs:Array,activeName_:String},data:function(){return{activeName:"",mapHeight:"xs"===g.getDevice()?"330px":"500px"}},watch:{activeName_:function(t){this.activeName=t}},methods:{handleClickTab:function(t){this.$emit("handleClickTab",parseInt(t.index))}}},v=x,b=(a("6be1"),a("5511")),y=Object(b["a"])(v,s,c,!1,null,"e205e668",null),A=y.exports;a("79dd");function w(){return{data:["2016","2017"],axisType:"category",autoPlay:!0,loop:!0,currentIndex:0,playInterval:1200,left:"0",right:"1%",top:"0%",width:"99%",symbolSize:10,label:{formatter:function(t){return t.substr(5)}},checkpointStyle:{borderColor:"#777",borderWidth:2},controlStyle:{showNextBtn:!0,showPrevBtn:!0,normal:{color:"#ff8800",borderColor:"#ff8800"},emphasis:{color:"#aaa",borderColor:"#aaa"}}}}var S=w,C={title:{text:"",top:15,subtext:"点击各区块查看下级地图",textStyle:{color:"#4197FD",fontSize:16}},visualMap:{min:0,left:"left",top:"bottom",text:["高","低"],calculable:!0,inRange:{color:["#FFAA85","#FF7B69","#BF2121","#7F1818"],symbolSize:[40,40]}},series:[{name:"china",type:"map",mapType:"china",roam:!1,label:{emphasis:{show:!0,formatter:function(t){var e=t.data?t.data.tags[2]:0;return"{fline|"+t.name+"}\n{tline|确诊: "+t.value+"\n死亡："+e+"}\n"},position:"top",align:"left",fontSize:14,width:150,backgroundColor:"rgba(50, 50, 50, 0.8)",padding:[0,0],borderRadius:3,color:"#f7fafb",rich:{fline:{padding:[0,5,5,10],height:20,fontSize:16,fontWeight:400,color:"#FFFFFF"},tline:{padding:[0,5,5,10],color:"#F55253"}}},normal:{show:!1}},itemStyle:{normal:{label:{show:!1}},emphasis:{areaColor:null,borderColor:"#BF2121",borderWidth:1.5,shadowColor:"red",shadowOffsetX:-1,shadowOffsetY:-1,label:{show:!0}}},data:[{name:"北京",value:Math.round(1e3*Math.random())}]}]},k=[],T={baseOption:{timeline:S(),visualMap:C.visualMap,series:C.series},options:[]},D={name:"china",option:C,superOption:T,initData:null,instance:null,useMaxValue:!0};function N(t,e,a){var i=g.formatRegion(e,t),n=i.reduce((function(t,e){return t+e.value}),0);return i.sort((function(t,e){return e.value-t.value})),a.title.text="共确诊："+n,i.length>0&&(a.title.subtext=i[0].name+"："+i[0].value),k.push(i.length<2?10:i[1].value),a.series[0]["data"]=i,D.useMaxValue||(a["visualMap"]={max:parseInt(1.25*k[k.length-1])}),a}function O(t,e){var a=Object.keys(t);return T.baseOption.timeline.data=a,T.options=a.map((function(a){var i={title:{text:"",top:55,textStyle:{color:"#bbb",fontSize:16}},series:[{}]};return N(t[a],e,i)})),T.baseOption.timeline.autoPlay=!1,T.baseOption.timeline.currentIndex=a.length-1,T}D.initData=function(t,e,a,i){a=a||"china",C.series[0].mapType=a,C.series[0].label.normal.show="china"!=a,k=[];var n=C;n=i?O(t,a):N(t,a,n);var o=parseInt(1.25*k.reduce((function(t,e){return t>e?t:e})));return C.visualMap.max=o,D.instance=g.drawGraph(n,e),D.instance};var B=D,I=B,F=(a("af82"),a("9a14"),{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},title:{text:"",top:15,textStyle:{color:"#4197FD",fontSize:16}},legend:{show:!0,right:10,top:50,data:["确诊","疑似","死亡","治愈"]},grid:[{left:-65,top:"88",bottom:"3%",width:100,containLabel:!0},{left:45,width:"58%",top:"68",bottom:"3%",containLabel:!0},{right:"40",width:"25%",top:"68",bottom:"3%",containLabel:!0}],xAxis:[{left:"10px",show:!1},{type:"value",show:!1,position:"top",gridIndex:1},{type:"value",show:!1,position:"top",gridIndex:2}],yAxis:[{type:"category",inverse:!0,data:["福建","广州","厦门","南宁","北京","长沙","重庆"],axisLine:{show:!1},axisTick:{show:!1},axisLabel:{interval:0,margin:85,textStyle:{color:"#455A74",align:"left",fontSize:14},rich:{a:{color:"#fff",backgroundColor:"#FAAA39",width:20,height:20,align:"center",borderRadius:2},b:{color:"#fff",backgroundColor:"#4197FD",width:20,height:20,align:"center",borderRadius:2}},formatter:function(t,e){return"{"+(e<3?"a":"b")+"|"+(e+1)+"}  "+t.substr(0,4)}}},{gridIndex:1,type:"category",inverse:!0,show:!1,data:["福建","广州","厦门","南宁","北京","长沙","重庆"],axisLine:{show:!1},axisTick:{show:!1}},{gridIndex:2,type:"category",inverse:!0,show:!1,data:["福建","广州","厦门","南宁","北京","长沙","重庆"],axisLine:{show:!1},axisTick:{show:!1}}],series:[{name:"确诊",type:"bar",barWidth:20,xAxisIndex:1,yAxisIndex:1,data:[320,302,301,334,390,330,320]},{name:"疑似",type:"bar",stack:!0,barWidth:20,xAxisIndex:2,yAxisIndex:2,data:[200,302,301,334,390,330,320]}]}),M=["确诊","疑似","死亡","治愈"],j=[0,0,0,0],G={baseOption:{timeline:S(),legend:F.legend,tooltip:F.tooltip,grid:F.grid,xAxis:F.xAxis,yAxis:F.yAxis,series:F.series,animationDurationUpdate:1200,animationEasingUpdate:"quinticInOut"},options:[]},E={name:"barChina",option:F,superOption:G,initData:null,instance:null,useMaxValue:!0};function P(t,e,a){var i=[[],[],[],[]],n=0;t.sort((function(t,e){return e[1]-t[1]})).forEach((function(t){[1,3,4,5].forEach((function(e,a){i[a].push(t[e]),t[e]>j[a]&&(j[a]=t[e]),0==a&&(n+=t[e])}))}));for(var o=0;o<3;o++)a["yAxis"][o]["data"]=t.map((function(t){return e[t[0]]||t[2]}));return a.title.text="累计确诊 "+n,a["series"]=M.map((function(t,e){return{name:M[e],type:"bar",barWidth:20,stack:!(e<1),xAxisIndex:e<1?1:2,yAxisIndex:e<1?1:2,itemStyle:{normal:{barBorderRadius:[2,2,2,2],shadowBlur:[0,0,0,10],color:g.Colors[e],shadowColor:g.Colors[e]}},label:{normal:{show:e<1||3==e,distance:5,position:"right"}},data:i[e]}})),a}function H(t,e){var a=Object.keys(t);return G.baseOption.timeline.data=a,G.options=a.map((function(a){var i={title:{text:"",top:65,textStyle:{color:"#bbb",fontSize:14}},yAxis:[{data:[]},{data:[]},{data:[]}]};return P(t[a],e,i)})),G}function L(t,e,a){var i=e;if(a){var n=Object.keys(e);i=e[n[n.length-1]]}var o=26*i.length+20;document.getElementById(t).style.height=(o<350?350:o)+"px"}E.initData=function(t,e,a,i){var n=F;n["legend"]["data"]=M,j=[0,0,0,0],n=i?H(t,a):P(t,a,n),"xs"===g.getDevice()&&(F.grid[1].width="51%"),E.useMaxValue&&(F.xAxis[1]["max"]=j[0],F.xAxis[2]["max"]=j[2]+j[3]),L(e,t,i);var o=g.drawGraph(n,e);o.dispatchAction({type:"legendUnSelect",name:"疑似"})};var W=E,z=W,Y=a("5a3e");function R(){var t={title:[{text:"",left:0,textStyle:{fontSize:16}},{text:"",left:100,textStyle:{color:"#F55253",fontWeight:"normal",fontSize:12}}],tooltip:{trigger:"axis",backgroundColor:"rgba(13,177,205,0.8)",axisPointer:{type:"shadow",label:{show:!0,backgroundColor:"#7B7DDC"},shadowStyle:{color:"rgba(250, 250, 250, 0.25)"}}},axisPointer:{link:{}},legend:{data:["累计确诊","新增确诊","累计治愈"],top:0,right:"30"},grid:[{containLabel:!0,left:0,right:0,top:30,height:120}],xAxis:[{data:["02-01","02-02","02-03"],axisLine:{lineStyle:{color:"#999",width:.6}},axisTick:{show:!0},axisLabel:{formatter:function(t){return t.substr(5)}}}],yAxis:[{name:"",axisLine:{lineStyle:{color:"#666"}},axisLabel:{formatter:function(t){return t<5e3?t:t/1e3+"k"},textStyle:{color:"#666"}},splitLine:{show:!0,lineStyle:{color:"rgba(205,205,205,0.3)"}}},{name:"",splitLine:{show:!1},min:0,axisLine:{lineStyle:{color:"#B4B4B4"}},axisLabel:{formatter:function(t){return t<1e3?t:t/1e3+"k"}}}],series:[{name:"累计确诊",type:"line",smooth:!0,showAllSymbol:!0,symbol:"emptyCircle",symbolSize:4,yAxisIndex:0,itemStyle:{normal:{color:"#F55253"}},lineStyle:{width:1},data:[10,20,50]},{name:"新增确诊",type:"bar",barMaxWidth:20,yAxisIndex:1,itemStyle:{normal:{barBorderRadius:3,color:"#F55253"}},data:[10,8,5]},{name:"累计治愈",type:"line",smooth:!0,showAllSymbol:!0,symbol:"roundRect",symbolSize:4,yAxisIndex:1,itemStyle:{normal:{color:"#178B50"}},lineStyle:{width:1},data:[10,20,50]}]};return t}var _=R(),V=[10,10],X={name:"lineChina",option:_,initData:null,instance:null,useMaxValue:!0};function U(t){var e={},a=Object.keys(t).sort();return a.forEach((function(a){t[a].forEach((function(t){var i=t[0];i in e||(e[i]={name:t[2],data:[]});var n=[a,t[1],"",t[3],t[4],t[5],t[6],t[7]];e[i].data.push(n)}))})),console.log(e),e}function q(t,e){var a=150*e+40;document.getElementById(t).style.height=(a<350?350:a)+"px"}function Q(t){return t[t.length-1]}function K(t,e){var a=U(t),i=Object.keys(a);q(e,i.length),i.sort((function(t,e){return Q(a[e].data)[1]-Q(a[t].data)[1]})),i.length>0&&(V[0]=Q(a[i[0]].data)[1]),i.length>1&&(V[1]=Q(a[i[1]].data)[1]);var n=new g.interpolateColor(["#FFAA85","#FF7B69","#BF2121","#7F1818"],1.5*V[1]),o=[[],[],[],[],[]];return _.title=o[0],_.grid=o[1],_.xAxis=o[2],_.yAxis=o[3],_.series=o[4],i.forEach((function(t,e){var i=R(),o=[i.title,i.grid[0],i.xAxis[0],i.yAxis,i.series],r=o[0],l=o[1],s=o[2],c=o[3],d=o[4];r[0].text=a[t].name,r[0].top=150*e+40,r[1].top=150*e+45,l.top=150*e+70,s.gridIndex=e,c[0].gridIndex=c[1].gridIndex=e,d[0].xAxisIndex=d[1].xAxisIndex=d[2].xAxisIndex=e;var u=[2*e,2*e+1,2*e+1];d[0].yAxisIndex=u[0],d[1].yAxisIndex=u[1],d[2].yAxisIndex=u[2],d[0].dataType=d[1].dataType=d[2].dataType=t;var m=a[t].data.reduce((function(t,e,a){var i=[e[0],e[1],e[6],e[5]];return t[0][a]=i[0],t[1][a]=i[1],t[2][a]=i[2],t[3][a]=i[3],t}),[[],[],[],[]]),p=Object(Y["a"])(m,4);s.data=p[0],d[0].data=p[1],d[1].data=p[2],d[2].data=p[3];var f=Q(m[1]);r[1].text="确诊 "+f,r[1].left=15*a[t].name.length+15,d[0].itemStyle.normal.color=d[1].itemStyle.normal.color=n.compute(f),_.title.push(r[0],r[1]),_.grid.push(l),_.xAxis.push(s),_.yAxis.push(c[0],c[1]),_.series.push(d[0],d[1],d[2])})),_}X.initData=function(t,e,a){var i=K(t,e);console.log([t,e,a,i]);var n=g.draw(X,e);return n};var J=X,Z=J,$={title:"",updateTime:"",tabs:[],sums:[],activeName:"china",code:86,level:1,init:function(t,e,a,i){var n=[t,e,a,i];this.title=n[0],this.updateTime=n[1],this.sums=n[2],this.tabs=n[3]},loadSummary:function(){var t=this;g.ajaxData(m.GetDataSummary,{level:this.level,name:this.code},(function(e){t.updateTime=e.data.updateTime;for(var a=e.data.summary,n=0;n<4;n++)a[0][n]&&i["default"].set(t.sums[n],"sum",a[0][n]),a[1][n]&&i["default"].set(t.sums[n],"add",a[1][n])}))},loadMap:function(t){var e=this,a=t.mapName;if(a in g.Names)return e.loadData(t);g.ajaxData(m.GetMap,{id:a},(function(i){g.registerMap(a,i.data),e.loadData(t)}))},loadData:function(t){var e=this,a=[t.mapName,t.level,t.allTime],i=a[0],n=a[1],o=a[2];if(t.data)return e.drawGraph(t);var r=o?m.GetTimeData:m.GetDataDetails;g.ajaxData(r,{level:n,name:i},(function(a){t.data=a.data,e.drawGraph(t,a.data)}))},drawGraph:function(t,e){var a=this,i=[t.mapName,t.level,t.allTime],n=i[0],o=i[1],r=i[2];if(e||(e=t.data),t.isLine){var l=Z.initData(e,t.ids[0],o);l.on("click",(function(t){console.log(t)}))}else{var s=I.initData(e,t.ids[0],n,r);s.off("click"),s.on("click",(function(t){if("map"===t.seriesType){var e=a.tabs[2+r],i=[t.data.code,null];e.mapName=i[0],e.data=i[1],a.activeName=e.name,a.loadMap(e)}}));var c=g.Names[n];z.initData(e,t.ids[1],c,r)}},handleClickTab:function(t){var e=this.tabs[t];if(e.isLine)return this.loadData(e);this.loadMap(e)}},tt=$,et={name:"Home",components:{Common:A},props:{msg:String},data:function(){return{title:"国内疫情",updateTime:"2020.02.15 02:29",sums:[{name:"confirmed",text:"确诊",color:g.Colors[0],sum:63951,add:"+19"},{name:"suspected",text:"疑似",color:g.Colors[1],sum:8228,add:""},{name:"die",text:"死亡",color:g.Colors[2],sum:1382,add:"+1"},{name:"ok",text:"治愈",color:g.Colors[3],sum:7094,add:"+366"}],tabs:[{label:"全国实时疫情",name:"china",ids:["ecChina","ecBar1"],level:1,allTime:0,data:null,mapName:"china"},{label:"时间序列回放",name:"chinaTime",ids:["ecChinaTime","ecBarTime1"],level:1,allTime:1,data:null,mapName:"china"},{label:"省实时疫情",name:"province",ids:["ecProvince","ecBar2"],level:2,allTime:0,data:null,mapName:"420000"},{label:"省舆情回放",name:"provinceTime",ids:["ecProvinceTime","ecBarTime2"],level:2,allTime:1,data:null,mapName:"420000"},{label:"曲线分析",name:"lineChina",ids:["ecLineChina"],level:1,isLine:1,allTime:1,data:null,mapName:"china"}],loader:tt,mapHeight:"xs"===g.getDevice()?"330px":"500px"}},mounted:function(){tt.init(this.title,this.updateTime,this.sums,this.tabs);var t=[1,"86"];tt.level=t[0],tt.code=t[1],tt.loadSummary(),this.init()},methods:{init:function(){tt.activeName="lineChina",tt.loadData(this.tabs[4])}}},at=et,it=(a("09d1"),Object(b["a"])(at,r,l,!1,null,"9fcdf70a",null)),nt=it.exports,ot={name:"app",components:{China:nt}},rt=ot,lt=(a("034f"),Object(b["a"])(rt,n,o,!1,null,null,null)),st=lt.exports,ct=(a("46c6"),a("2ca7")),dt=a.n(ct);i["default"].prototype.$echarts=f.a,i["default"].use(dt.a),i["default"].config.productionTip=!1,new i["default"]({render:function(t){return t(st)}}).$mount("#app")},"6be1":function(t,e,a){"use strict";var i=a("c441"),n=a.n(i);n.a},"85eb":function(t,e,a){},c441:function(t,e,a){},d7ab:function(t,e,a){}});
//# sourceMappingURL=index.e2b83d37.js.map